<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
     <canvas width="600" height="600" style="border: 1px solid #000;"></canvas>

     <script>
         var cs=document.querySelector('canvas');
         var ctx=cs.getContext('2d');
         var w=52;
         var h=45;

         var img=new Image();

         img.onload=function(){

//             setInterval(function(){
//                 ctx.clearRect(0,0,cs.width,cs.height);
//                 ctx.drawImage(img,i*w,0,w,h,100,100,w,h);
//                 i++;
//                 i%=3;
//             },20);

//             requestAnimationFrame()
             var id=0;
             var i=0;
             function render(){
                 ctx.clearRect(0,0,cs.width,cs.height);
                 ctx.drawImage(img,i*w,0,w,h,100,100,w,h);
                 i++;
                 i%=3;
//                 render();
                id= window.requestAnimationFrame(render); //类似递归调用的方式
             }

             render();

             window.onclick=function(){
                 window.cancelAnimationFrame(id);
             }
         }

         img.src='imgs/birds.png';
     </script>
</body>
</html>